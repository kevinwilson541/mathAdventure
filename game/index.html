<!doctype html>
<html>

  <head>


      <script src="//code.jquery.com/jquery-latest.min.js"></script>
      <link rel="stylesheet" type="text/css" href="style/login-style.css">
      <script>

       function handleLoginResult(resp_body) {
                      console.log( resp_body );
                      if( resp_body.url ) window.location = resp_body.url; //load main app page
                  };

       function handleRegisterResult(resp_body) {
              console.log( resp_body );
              if( resp_body.url ) window.location = resp_body.url;
          };

        var main = function (){

              $("button#login").on("click", function (event){ 
                    $.get("login.json",
                           {"name": $("#old_name").val(), "password": $("#old_pass").val() },
                           handleLoginResult);
               });

               $("button#register").on("click", function (event){ 
                    $.post("register.json",
                           {"name": $("#new_name").val(), "password": $("#new_pass").val() },
                           handleRegisterResult);
               });

        }
        $(document).ready(main);
      </script>
  </head>

  <body>

    <h1>Math Adventure</h1>

     <section id="register">
        <span class="directions">Register username: </span>
        <input id="new_name" type="text">
        <p>
         <span class="directions">Register password: </span>
        <input id="new_pass" type="text">
        <p>
        <button id="register">Register</button>
    </section>

    <section id="login">
        <span class="directions">Username: </span>
        <input id="old_name" type="text">
        <p>
        <span class="directions">Password: </span>
        <input id="old_pass" type="password">
        <p>
        <button id="login">Log In</button>
    </section>
    

  </body>
</html>

